<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/3dstyle.css"/>
    <title>3d</title>
</head>
<body>
    <!--
        VIDEO REFERENCE:
        https://www.youtube.com/watch?v=FgN2EENWPFc
    -->
   <!--<script src="js/pixi.min.js"></script>
    <script src="https://pixijs.download/release/pixi.min.js">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    </script>--> 
    <script src="js/pixi4.min.js"></script>
    <script>
        let app =  PIXI.Application({width: window.innerWidth, height: window.innerHeight});
        document.body.appendChild(app.view);

        let img =  PIXI.Sprite.from("img/pikachu.jpg");
        img.width = window.innerWidth;
        img.height = window.innerHeight;
        app.stage.addChild(img);

        depthMap =  PIXI.Sprite.from("img/pikachu3dmap.jpg");
        app.stage.addChild(depthMap);

        displacementFilter =  PIXI.filters.DisplacementFilter(depthMap);
        app.stage.filters = [displacementFilter];

        window.onmousemove = function(e) {
            displacementFilter.scale.x = (window.innerwidth / 2 - e.clientx) /20;
            displacementFilter.scale.y = (window.innerHeight / 2 - e.clienty) /20;
        }
    </script>
    
</body>
</html>